# /webapp-test - Webåº”ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•

## æè¿°
åŸºäºæµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨åŒ–æµ‹è¯•æœ¬åœ°Webåº”ç”¨ï¼Œä½¿ç”¨Playwrightæ‰§è¡ŒåŠŸèƒ½æµ‹è¯•ã€UIæµ‹è¯•ã€äº¤äº’æµ‹è¯•ç­‰ã€‚æ”¯æŒå•æœåŠ¡å™¨å’Œå¤šæœåŠ¡å™¨ï¼ˆå‰åç«¯åˆ†ç¦»ï¼‰åœºæ™¯ã€‚

## ä½¿ç”¨æ–¹å¼
```
/webapp-test <æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶> [--url <åº”ç”¨URL>] [--server <å¯åŠ¨å‘½ä»¤>] [--port <ç«¯å£>] [--headless] [--screenshot]
```

## å‚æ•°è¯´æ˜
- `æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶`: æµ‹è¯•ç”¨ä¾‹æ–‡æ¡£è·¯å¾„ï¼ˆæ”¯æŒ .mdã€.jsonã€.xlsx æ ¼å¼ï¼‰
- `--url`: Webåº”ç”¨URLï¼ˆé»˜è®¤: http://localhost:5173ï¼‰
- `--server`: æœåŠ¡å™¨å¯åŠ¨å‘½ä»¤ï¼ˆå¦‚: "npm run dev"ï¼‰
- `--port`: æœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤: 5173ï¼‰
- `--headless`: æ— å¤´æ¨¡å¼è¿è¡Œï¼ˆé»˜è®¤å¼€å¯ï¼‰
- `--screenshot`: å¤±è´¥æ—¶è‡ªåŠ¨æˆªå›¾ï¼ˆé»˜è®¤å¼€å¯ï¼‰
- `--report`: æµ‹è¯•æŠ¥å‘Šä¿å­˜è·¯å¾„ï¼ˆé»˜è®¤: test-results/ï¼‰

## æ”¯æŒçš„æµ‹è¯•åœºæ™¯

### 1. åŠŸèƒ½æµ‹è¯•
- é¡µé¢å¯¼èˆªå’Œè·¯ç”±
- è¡¨å•æäº¤å’ŒéªŒè¯
- æŒ‰é’®ç‚¹å‡»å’Œäº‹ä»¶è§¦å‘
- æ•°æ®åŠ è½½å’Œå±•ç¤º
- CRUD æ“ä½œæµç¨‹

### 2. UI/UX æµ‹è¯•
- å…ƒç´ å¯è§æ€§éªŒè¯
- å¸ƒå±€å’Œæ ·å¼æ£€æŸ¥
- å“åº”å¼è®¾è®¡æµ‹è¯•
- äº¤äº’åé¦ˆï¼ˆloadingã€toastã€modalï¼‰
- é”™è¯¯æç¤ºå±•ç¤º

### 3. ç”¨æˆ·æµç¨‹æµ‹è¯•
- ç™»å½•/æ³¨å†Œæµç¨‹
- å¤šæ­¥éª¤è¡¨å•
- è´­ç‰©è½¦æµç¨‹
- æ”¯ä»˜æµç¨‹
- æœç´¢å’Œç­›é€‰

### 4. æ€§èƒ½æµ‹è¯•
- é¡µé¢åŠ è½½æ—¶é—´
- é¦–å±æ¸²æŸ“æ—¶é—´ï¼ˆFCPï¼‰
- äº¤äº’å“åº”æ—¶é—´
- èµ„æºåŠ è½½åˆ†æ

### 5. å…¼å®¹æ€§æµ‹è¯•
- å¤šæµè§ˆå™¨æµ‹è¯•ï¼ˆChromiumã€Firefoxã€WebKitï¼‰
- å¤šè®¾å¤‡æ¨¡æ‹Ÿï¼ˆæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºï¼‰
- å¤šåˆ†è¾¨ç‡æµ‹è¯•

## æµ‹è¯•ç”¨ä¾‹æ ¼å¼

### Markdown æ ¼å¼
```markdown
## æµ‹è¯•ç”¨ä¾‹

### TC001: ç”¨æˆ·ç™»å½• - æ­£å¸¸æµç¨‹
- **å‰ç½®æ¡ä»¶**: ç”¨æˆ·å·²æ³¨å†Œ
- **æµ‹è¯•æ­¥éª¤**:
  1. è®¿é—®ç™»å½•é¡µé¢ /login
  2. è¾“å…¥ç”¨æˆ·å: admin
  3. è¾“å…¥å¯†ç : admin123
  4. ç‚¹å‡»"ç™»å½•"æŒ‰é’®
- **é¢„æœŸç»“æœ**:
  - é¡µé¢è·³è½¬åˆ° /dashboard
  - æ˜¾ç¤ºç”¨æˆ·å: admin
  - æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
- **ä¼˜å…ˆçº§**: P0

### TC002: ç”¨æˆ·ç™»å½• - å¯†ç é”™è¯¯
- **å‰ç½®æ¡ä»¶**: ç”¨æˆ·å·²æ³¨å†Œ
- **æµ‹è¯•æ­¥éª¤**:
  1. è®¿é—®ç™»å½•é¡µé¢ /login
  2. è¾“å…¥ç”¨æˆ·å: admin
  3. è¾“å…¥å¯†ç : wrongpassword
  4. ç‚¹å‡»"ç™»å½•"æŒ‰é’®
- **é¢„æœŸç»“æœ**:
  - æ˜¾ç¤ºé”™è¯¯æç¤º: "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯"
  - åœç•™åœ¨ç™»å½•é¡µé¢
- **ä¼˜å…ˆçº§**: P0
```

### JSON æ ¼å¼
```json
{
  "testcases": [
    {
      "id": "TC001",
      "name": "ç”¨æˆ·ç™»å½• - æ­£å¸¸æµç¨‹",
      "priority": "P0",
      "preconditions": "ç”¨æˆ·å·²æ³¨å†Œ",
      "steps": [
        {
          "action": "navigate",
          "target": "/login"
        },
        {
          "action": "fill",
          "selector": "input[name='username']",
          "value": "admin"
        },
        {
          "action": "fill",
          "selector": "input[name='password']",
          "value": "admin123"
        },
        {
          "action": "click",
          "selector": "button[type='submit']"
        }
      ],
      "assertions": [
        {
          "type": "url",
          "value": "/dashboard"
        },
        {
          "type": "text",
          "selector": ".user-name",
          "value": "admin"
        }
      ]
    }
  ]
}
```

## æœåŠ¡å™¨é…ç½®

### å•æœåŠ¡å™¨æ¨¡å¼
```bash
# å‰ç«¯åº”ç”¨
/webapp-test testcases/user-login.json --server "npm run dev" --port 5173

# åç«¯API
/webapp-test testcases/api-test.json --server "go run main.go" --port 8080
```

### å¤šæœåŠ¡å™¨æ¨¡å¼ï¼ˆå‰åç«¯åˆ†ç¦»ï¼‰
```bash
/webapp-test testcases/e2e-test.json \
  --server "cd backend && go run main.go" --port 8080 \
  --server "cd frontend && npm run dev" --port 5173 \
  --url http://localhost:5173
```

### å·²è¿è¡ŒæœåŠ¡å™¨
```bash
# æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œç›´æ¥æµ‹è¯•
/webapp-test testcases/ui-test.json --url http://localhost:3000
```

## æ‰§è¡Œæµç¨‹

### é˜¶æ®µ 1: è§£ææµ‹è¯•ç”¨ä¾‹
1. è¯»å–æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼ˆ.mdã€.jsonã€.xlsxï¼‰
2. è§£ææµ‹è¯•ç”¨ä¾‹ç»“æ„
3. æå–æµ‹è¯•æ­¥éª¤å’Œæ–­è¨€
4. ç¡®å®šæ‰§è¡Œé¡ºåºå’Œä¼˜å…ˆçº§

### é˜¶æ®µ 2: ç¯å¢ƒå‡†å¤‡
1. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦éœ€è¦å¯åŠ¨
2. å¯åŠ¨æœåŠ¡å™¨å¹¶ç­‰å¾…å°±ç»ª
3. æ£€æŸ¥ç«¯å£å¯ç”¨æ€§
4. åˆå§‹åŒ– Playwright æµè§ˆå™¨

### é˜¶æ®µ 3: æ‰§è¡Œæµ‹è¯•
1. æŒ‰ä¼˜å…ˆçº§é¡ºåºæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹
2. å¯¹æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼š
   - æ‰§è¡Œå‰ç½®æ¡ä»¶æ£€æŸ¥
   - é€æ­¥æ‰§è¡Œæµ‹è¯•æ­¥éª¤
   - éªŒè¯é¢„æœŸç»“æœ
   - æ•è·å¤±è´¥æˆªå›¾
   - è®°å½•æµ‹è¯•æ—¥å¿—

### é˜¶æ®µ 4: ç”ŸæˆæŠ¥å‘Š
1. ç»Ÿè®¡æµ‹è¯•ç»“æœï¼ˆé€šè¿‡/å¤±è´¥/è·³è¿‡ï¼‰
2. ç”ŸæˆHTMLæµ‹è¯•æŠ¥å‘Š
3. ä¿å­˜å¤±è´¥æˆªå›¾
4. è¾“å‡ºæµ‹è¯•æ‘˜è¦

## æµ‹è¯•åŠ¨ä½œç±»å‹

### å¯¼èˆªåŠ¨ä½œ
```python
# è®¿é—®é¡µé¢
page.goto('http://localhost:5173/login')

# ç­‰å¾…é¡µé¢åŠ è½½
page.wait_for_load_state('networkidle')

# ç­‰å¾…URLå˜åŒ–
page.wait_for_url('**/dashboard')
```

### è¾“å…¥åŠ¨ä½œ
```python
# å¡«å†™æ–‡æœ¬
page.fill('input[name="username"]', 'admin')

# æ¸…ç©ºå¹¶è¾“å…¥
page.locator('input[name="email"]').clear()
page.locator('input[name="email"]').fill('new@example.com')

# é€‰æ‹©ä¸‹æ‹‰æ¡†
page.select_option('select[name="role"]', 'admin')

# ä¸Šä¼ æ–‡ä»¶
page.set_input_files('input[type="file"]', 'test-file.pdf')
```

### ç‚¹å‡»åŠ¨ä½œ
```python
# ç‚¹å‡»æŒ‰é’®
page.click('button[type="submit"]')

# ç‚¹å‡»é“¾æ¥
page.click('text=æŸ¥çœ‹è¯¦æƒ…')

# åŒå‡»
page.dblclick('.item')

# å³é”®
page.click('.context-menu-trigger', button='right')
```

### ç­‰å¾…åŠ¨ä½œ
```python
# ç­‰å¾…å…ƒç´ å‡ºç°
page.wait_for_selector('.success-message')

# ç­‰å¾…å…ƒç´ æ¶ˆå¤±
page.wait_for_selector('.loading-spinner', state='hidden')

# ç­‰å¾…å›ºå®šæ—¶é—´
page.wait_for_timeout(1000)  # 1ç§’
```

### æ–­è¨€éªŒè¯
```python
# URL æ–­è¨€
assert '/dashboard' in page.url

# æ–‡æœ¬æ–­è¨€
assert page.locator('.user-name').inner_text() == 'admin'

# å¯è§æ€§æ–­è¨€
assert page.locator('.success-message').is_visible()

# å…ƒç´ å­˜åœ¨æ–­è¨€
assert page.locator('button.delete').count() > 0

# å±æ€§æ–­è¨€
assert page.locator('input[name="email"]').get_attribute('disabled') is None
```

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: åŸºç¡€åŠŸèƒ½æµ‹è¯•
```bash
ç”¨æˆ·: /webapp-test testcases/user-management.json --server "npm run dev" --port 5173

åŠ©æ‰‹:
ğŸš€ å¯åŠ¨æœåŠ¡å™¨...
âœ… æœåŠ¡å™¨å·²å°±ç»ª: http://localhost:5173

ğŸŒ å¯åŠ¨æµè§ˆå™¨ (Chromium headless)...
âœ… æµè§ˆå™¨å·²å¯åŠ¨

ğŸ“‹ è§£ææµ‹è¯•ç”¨ä¾‹...
âœ… æ‰¾åˆ° 12 ä¸ªæµ‹è¯•ç”¨ä¾‹

ğŸ§ª æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹...

[P0] TC001: ç”¨æˆ·ç™»å½• - æ­£å¸¸æµç¨‹
  âœ… æ­¥éª¤ 1/4: è®¿é—®ç™»å½•é¡µé¢
  âœ… æ­¥éª¤ 2/4: è¾“å…¥ç”¨æˆ·å
  âœ… æ­¥éª¤ 3/4: è¾“å…¥å¯†ç 
  âœ… æ­¥éª¤ 4/4: ç‚¹å‡»ç™»å½•æŒ‰é’®
  âœ… æ–­è¨€: URLåŒ…å« /dashboard
  âœ… æ–­è¨€: æ˜¾ç¤ºç”¨æˆ·å "admin"
  âœ… é€šè¿‡ (2.3s)

[P0] TC002: ç”¨æˆ·ç™»å½• - å¯†ç é”™è¯¯
  âœ… æ­¥éª¤ 1/4: è®¿é—®ç™»å½•é¡µé¢
  âœ… æ­¥éª¤ 2/4: è¾“å…¥ç”¨æˆ·å
  âœ… æ­¥éª¤ 3/4: è¾“å…¥é”™è¯¯å¯†ç 
  âœ… æ­¥éª¤ 4/4: ç‚¹å‡»ç™»å½•æŒ‰é’®
  âœ… æ–­è¨€: æ˜¾ç¤ºé”™è¯¯æç¤º
  âœ… é€šè¿‡ (1.8s)

[P1] TC003: åˆ›å»ºæ–°ç”¨æˆ·
  âœ… æ­¥éª¤ 1/5: è®¿é—®ç”¨æˆ·ç®¡ç†é¡µé¢
  âœ… æ­¥éª¤ 2/5: ç‚¹å‡»"æ–°å¢ç”¨æˆ·"æŒ‰é’®
  âœ… æ­¥éª¤ 3/5: å¡«å†™ç”¨æˆ·ä¿¡æ¯
  âœ… æ­¥éª¤ 4/5: ç‚¹å‡»æäº¤
  âŒ æ­¥éª¤ 5/5: éªŒè¯ç”¨æˆ·åˆ›å»ºæˆåŠŸ
  âŒ å¤±è´¥: æœªæ‰¾åˆ°æˆåŠŸæ¶ˆæ¯å…ƒç´ 
  ğŸ“¸ æˆªå›¾å·²ä¿å­˜: test-results/TC003-failure.png
  âŒ å¤±è´¥ (3.1s)

...

ğŸ“Š æµ‹è¯•ç»“æœæ‘˜è¦:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ€»è®¡:   12 ä¸ªæµ‹è¯•ç”¨ä¾‹
é€šè¿‡:   10 ä¸ª (83%)
å¤±è´¥:   2 ä¸ª (17%)
è·³è¿‡:   0 ä¸ª
è€—æ—¶:   28.5s
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âŒ å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹:
- TC003: åˆ›å»ºæ–°ç”¨æˆ·
- TC007: æ‰¹é‡åˆ é™¤ç”¨æˆ·

ğŸ“„ è¯¦ç»†æŠ¥å‘Š: test-results/report.html
ğŸ“¸ å¤±è´¥æˆªå›¾: test-results/screenshots/

ğŸ’¡ æç¤º: ä½¿ç”¨ open test-results/report.html æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š
```

### ç¤ºä¾‹ 2: å¤šæµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•
```bash
ç”¨æˆ·: /webapp-test testcases/ui-test.json --browsers chromium,firefox,webkit

åŠ©æ‰‹:
ğŸŒ æ‰§è¡Œå¤šæµè§ˆå™¨æµ‹è¯•...

â”â”â” Chromium â”â”â”
âœ… TC001: é¡µé¢å¸ƒå±€ - é€šè¿‡
âœ… TC002: æŒ‰é’®æ ·å¼ - é€šè¿‡
âœ… TC003: è¡¨å•éªŒè¯ - é€šè¿‡

â”â”â” Firefox â”â”â”
âœ… TC001: é¡µé¢å¸ƒå±€ - é€šè¿‡
âŒ TC002: æŒ‰é’®æ ·å¼ - å¤±è´¥ (è¾¹æ¡†é¢œè‰²ä¸ä¸€è‡´)
âœ… TC003: è¡¨å•éªŒè¯ - é€šè¿‡

â”â”â” WebKit (Safari) â”â”â”
âœ… TC001: é¡µé¢å¸ƒå±€ - é€šè¿‡
âœ… TC002: æŒ‰é’®æ ·å¼ - é€šè¿‡
âŒ TC003: è¡¨å•éªŒè¯ - å¤±è´¥ (æ—¥æœŸé€‰æ‹©å™¨è¡Œä¸ºä¸åŒ)

ğŸ“Š å…¼å®¹æ€§æŠ¥å‘Š:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æµè§ˆå™¨    | é€šè¿‡ç‡ | å¤±è´¥ç”¨ä¾‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Chromium  | 100%  | -
Firefox   | 67%   | TC002
WebKit    | 67%   | TC003
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### ç¤ºä¾‹ 3: å“åº”å¼è®¾è®¡æµ‹è¯•
```bash
ç”¨æˆ·: /webapp-test testcases/responsive-test.json --devices mobile,tablet,desktop

åŠ©æ‰‹:
ğŸ“± æ‰§è¡Œå“åº”å¼è®¾è®¡æµ‹è¯•...

â”â”â” Mobile (375x667) â”â”â”
âœ… TC001: å¯¼èˆªèœå•æŠ˜å 
âœ… TC002: è¡¨æ ¼æ¨ªå‘æ»šåŠ¨
âœ… TC003: æŒ‰é’®å¤§å°é€‚é…

â”â”â” Tablet (768x1024) â”â”â”
âœ… TC001: å¯¼èˆªèœå•å±•å¼€
âœ… TC002: è¡¨æ ¼è‡ªé€‚åº”
âŒ TC003: ä¾§è¾¹æ å¸ƒå±€ - å¤±è´¥ (é‡å é—®é¢˜)

â”â”â” Desktop (1920x1080) â”â”â”
âœ… TC001: å¯¼èˆªèœå•å±•å¼€
âœ… TC002: è¡¨æ ¼å®Œæ•´å±•ç¤º
âœ… TC003: ä¾§è¾¹æ å¸ƒå±€

ğŸ“Š å“åº”å¼æµ‹è¯•ç»“æœ:
- Mobile: 3/3 é€šè¿‡ (100%)
- Tablet: 2/3 é€šè¿‡ (67%)
- Desktop: 3/3 é€šè¿‡ (100%)
```

### ç¤ºä¾‹ 4: æ€§èƒ½æµ‹è¯•
```bash
ç”¨æˆ·: /webapp-test testcases/performance-test.json --performance

åŠ©æ‰‹:
âš¡ æ‰§è¡Œæ€§èƒ½æµ‹è¯•...

TC001: é¦–é¡µåŠ è½½æ€§èƒ½
  âœ… FCP (First Contentful Paint): 1.2s (< 1.5s) âœ…
  âœ… LCP (Largest Contentful Paint): 2.1s (< 2.5s) âœ…
  âš ï¸  TTI (Time to Interactive): 3.8s (> 3.5s) âš ï¸
  âœ… é¡µé¢å¤§å°: 850KB (< 1MB) âœ…
  âœ… è¯·æ±‚æ•°: 23 (< 30) âœ…

TC002: ç”¨æˆ·åˆ—è¡¨åŠ è½½ (1000æ¡æ•°æ®)
  âœ… æ•°æ®åŠ è½½æ—¶é—´: 0.8s (< 1s) âœ…
  âœ… æ¸²æŸ“æ—¶é—´: 1.5s (< 2s) âœ…
  âœ… å†…å­˜ä½¿ç”¨: 45MB (< 100MB) âœ…

TC003: æœç´¢å“åº”æ€§èƒ½
  âœ… è¾“å…¥é˜²æŠ–: 300ms âœ…
  âœ… æœç´¢è¯·æ±‚: 250ms (< 500ms) âœ…
  âœ… ç»“æœæ¸²æŸ“: 180ms (< 300ms) âœ…

ğŸ“Š æ€§èƒ½æµ‹è¯•æ‘˜è¦:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æŒ‡æ ‡                  | å®é™…å€¼  | ç›®æ ‡å€¼  | çŠ¶æ€
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
é¦–å±æ¸²æŸ“ (FCP)        | 1.2s   | < 1.5s | âœ…
æœ€å¤§å†…å®¹æ¸²æŸ“ (LCP)     | 2.1s   | < 2.5s | âœ…
å¯äº¤äº’æ—¶é—´ (TTI)       | 3.8s   | < 3.5s | âš ï¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸  å»ºè®®: TTI è¶…å‡ºç›®æ ‡ï¼Œè€ƒè™‘ä¼˜åŒ– JavaScript æ‰§è¡Œæ—¶é—´
```

## æµ‹è¯•æŠ¥å‘Šæ ¼å¼

### HTML æŠ¥å‘Š
ç”Ÿæˆäº¤äº’å¼HTMLæŠ¥å‘Šï¼ŒåŒ…å«ï¼š
- æµ‹è¯•æ‘˜è¦å’Œç»Ÿè®¡å›¾è¡¨
- æ¯ä¸ªç”¨ä¾‹çš„è¯¦ç»†æ‰§è¡Œæ—¥å¿—
- å¤±è´¥ç”¨ä¾‹çš„æˆªå›¾
- æ€§èƒ½æŒ‡æ ‡å›¾è¡¨
- æ—¶é—´çº¿è§†å›¾

### Markdown æŠ¥å‘Š
```markdown
# Webåº”ç”¨æµ‹è¯•æŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: 2024-01-15 14:30:00
**æµ‹è¯•ç¯å¢ƒ**: http://localhost:5173
**æµè§ˆå™¨**: Chromium 120.0

## æµ‹è¯•æ‘˜è¦

| æŒ‡æ ‡ | æ•°é‡ | ç™¾åˆ†æ¯” |
|------|------|--------|
| æ€»è®¡ | 12   | 100%   |
| é€šè¿‡ | 10   | 83%    |
| å¤±è´¥ | 2    | 17%    |
| è·³è¿‡ | 0    | 0%     |

## å¤±è´¥ç”¨ä¾‹è¯¦æƒ…

### TC003: åˆ›å»ºæ–°ç”¨æˆ·
- **å¤±è´¥åŸå› **: æœªæ‰¾åˆ°æˆåŠŸæ¶ˆæ¯å…ƒç´ 
- **æˆªå›¾**: [æŸ¥çœ‹æˆªå›¾](screenshots/TC003-failure.png)
- **å»ºè®®**: æ£€æŸ¥æˆåŠŸæ¶ˆæ¯çš„é€‰æ‹©å™¨æ˜¯å¦æ­£ç¡®

### TC007: æ‰¹é‡åˆ é™¤ç”¨æˆ·
- **å¤±è´¥åŸå› **: ç¡®è®¤å¯¹è¯æ¡†æœªå‡ºç°
- **æˆªå›¾**: [æŸ¥çœ‹æˆªå›¾](screenshots/TC007-failure.png)
- **å»ºè®®**: ç¡®è®¤åˆ é™¤åŠŸèƒ½æ˜¯å¦å·²å®ç°
```

### JSON æŠ¥å‘Šï¼ˆç”¨äºCI/CDï¼‰
```json
{
  "summary": {
    "total": 12,
    "passed": 10,
    "failed": 2,
    "skipped": 0,
    "duration": 28.5,
    "pass_rate": 83.33
  },
  "testcases": [
    {
      "id": "TC001",
      "name": "ç”¨æˆ·ç™»å½• - æ­£å¸¸æµç¨‹",
      "status": "passed",
      "duration": 2.3,
      "steps": [...]
    },
    {
      "id": "TC003",
      "name": "åˆ›å»ºæ–°ç”¨æˆ·",
      "status": "failed",
      "duration": 3.1,
      "error": "æœªæ‰¾åˆ°æˆåŠŸæ¶ˆæ¯å…ƒç´ ",
      "screenshot": "test-results/TC003-failure.png"
    }
  ]
}
```

## é«˜çº§åŠŸèƒ½

### è‡ªåŠ¨é‡è¯•
```bash
# å¤±è´¥ç”¨ä¾‹è‡ªåŠ¨é‡è¯•3æ¬¡
/webapp-test testcases/flaky-test.json --retry 3
```

### å¹¶è¡Œæ‰§è¡Œ
```bash
# å¹¶è¡Œæ‰§è¡Œ4ä¸ªæµ‹è¯•
/webapp-test testcases/all-tests.json --parallel 4
```

### è§†é¢‘å½•åˆ¶
```bash
# å½•åˆ¶æµ‹è¯•æ‰§è¡Œè¿‡ç¨‹
/webapp-test testcases/demo-test.json --video on-failure
```

### ç½‘ç»œæ‹¦æˆª
```bash
# Mock API å“åº”
/webapp-test testcases/api-test.json --mock-api api-mocks.json
```

### è°ƒè¯•æ¨¡å¼
```bash
# æ— å¤´æ¨¡å¼å…³é—­ï¼Œæ˜¾ç¤ºæµè§ˆå™¨çª—å£
/webapp-test testcases/debug-test.json --headed --slowmo 500
```

## æœ€ä½³å®è·µ

### 1. æµ‹è¯•ç”¨ä¾‹è®¾è®¡
- ä½¿ç”¨æ˜ç¡®çš„é€‰æ‹©å™¨ï¼ˆä¼˜å…ˆä½¿ç”¨ data-testidï¼‰
- æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ç‹¬ç«‹ï¼Œä¸ä¾èµ–å…¶ä»–ç”¨ä¾‹
- æ·»åŠ åˆç†çš„ç­‰å¾…æ—¶é—´
- æµ‹è¯•æ­£å¸¸å’Œå¼‚å¸¸æµç¨‹

### 2. å…ƒç´ é€‰æ‹©å™¨ä¼˜å…ˆçº§
1. `data-testid` å±æ€§ï¼ˆæ¨èï¼‰
2. `role` å’Œ `aria-*` å±æ€§
3. `text=` æ–‡æœ¬é€‰æ‹©å™¨
4. CSS é€‰æ‹©å™¨
5. XPathï¼ˆæœ€åé€‰æ‹©ï¼‰

### 3. ç­‰å¾…ç­–ç•¥
- ä½¿ç”¨ `wait_for_load_state('networkidle')` ç­‰å¾…é¡µé¢åŠ è½½
- ä½¿ç”¨ `wait_for_selector()` ç­‰å¾…ç‰¹å®šå…ƒç´ 
- é¿å…ä½¿ç”¨å›ºå®šå»¶è¿Ÿ `wait_for_timeout()`ï¼Œé™¤éå¿…è¦

### 4. æˆªå›¾å’Œè°ƒè¯•
- å¤±è´¥æ—¶è‡ªåŠ¨æˆªå›¾
- å…³é”®æ­¥éª¤æ‰‹åŠ¨æˆªå›¾
- ä¿å­˜å®Œæ•´é¡µé¢æˆªå›¾ç”¨äºå›é¡¾

### 5. æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨å¹¶è¡Œæ‰§è¡ŒåŠ é€Ÿæµ‹è¯•
- å¤ç”¨æµè§ˆå™¨ä¸Šä¸‹æ–‡
- ä¼˜åŒ–ç­‰å¾…æ—¶é—´

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. å…ƒç´ æœªæ‰¾åˆ°
```
é”™è¯¯: Element not found: button[type="submit"]

è§£å†³æ–¹æ¡ˆ:
1. æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
2. ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ
3. ä½¿ç”¨æ›´å®½æ¾çš„é€‰æ‹©å™¨
4. æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨iframeä¸­
```

#### 2. è¶…æ—¶é”™è¯¯
```
é”™è¯¯: Timeout 30000ms exceeded

è§£å†³æ–¹æ¡ˆ:
1. å¢åŠ ç­‰å¾…æ—¶é—´
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸å¯åŠ¨
4. ä½¿ç”¨ wait_for_load_state('networkidle')
```

#### 3. æœåŠ¡å™¨å¯åŠ¨å¤±è´¥
```
é”™è¯¯: Server not ready on port 5173

è§£å†³æ–¹æ¡ˆ:
1. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
2. æ£€æŸ¥å¯åŠ¨å‘½ä»¤æ˜¯å¦æ­£ç¡®
3. å¢åŠ æœåŠ¡å™¨å°±ç»ªç­‰å¾…æ—¶é—´
4. æ‰‹åŠ¨å¯åŠ¨æœåŠ¡å™¨å¹¶ä½¿ç”¨ --url å‚æ•°
```

## CI/CD é›†æˆ

### GitHub Actions ç¤ºä¾‹
```yaml
name: E2E Tests

on: [push, pull_request]

jobs:
  e2e-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Node
        uses: actions/setup-node@v3
        with:
          node-version: '20'

      - name: Install dependencies
        run: |
          npm install
          npx playwright install --with-deps chromium

      - name: Run E2E tests
        run: |
          claude /webapp-test testcases/e2e-tests.json \
            --server "npm run dev" \
            --port 5173 \
            --report test-results/

      - name: Upload test results
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: test-results
          path: test-results/
```

## è¾“å‡ºæ–‡ä»¶ç»“æ„

```
test-results/
â”œâ”€â”€ report.html                    # HTMLæµ‹è¯•æŠ¥å‘Š
â”œâ”€â”€ report.json                    # JSONæ ¼å¼æŠ¥å‘Š
â”œâ”€â”€ report.md                      # Markdownæ ¼å¼æŠ¥å‘Š
â”œâ”€â”€ screenshots/                   # å¤±è´¥æˆªå›¾
â”‚   â”œâ”€â”€ TC003-failure.png
â”‚   â””â”€â”€ TC007-failure.png
â”œâ”€â”€ videos/                        # è§†é¢‘å½•åˆ¶ï¼ˆå¦‚å¯ç”¨ï¼‰
â”‚   â””â”€â”€ TC003.webm
â””â”€â”€ traces/                        # Playwright traces
    â””â”€â”€ TC003-trace.zip
```

## ç›¸å…³å‘½ä»¤

- `/prd-to-test` - ä»PRDç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
- `/test` - ç”Ÿæˆä»£ç å•å…ƒæµ‹è¯•
- `/dev` - å¼€å‘æµç¨‹ï¼ˆåŒ…å«æµ‹è¯•ï¼‰

## æ³¨æ„äº‹é¡¹

1. ç¡®ä¿æµ‹è¯•ç”¨ä¾‹ä¸­çš„é€‰æ‹©å™¨ä¸å®é™…åº”ç”¨åŒ¹é…
2. æœåŠ¡å™¨å¯åŠ¨éœ€è¦æ—¶é—´ï¼Œè‡ªåŠ¨ç­‰å¾…å°±ç»ª
3. æ— å¤´æ¨¡å¼æ€§èƒ½æ›´å¥½ï¼Œè°ƒè¯•æ—¶å¯ä½¿ç”¨æœ‰å¤´æ¨¡å¼
4. å¤±è´¥æˆªå›¾ä¿å­˜åœ¨ test-results/screenshots/
5. æ”¯æŒä» `/prd-to-test` ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹
6. æ¨èåœ¨CI/CDä¸­è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶

## æŠ€èƒ½è°ƒç”¨

æ­¤å‘½ä»¤ä¼šè°ƒç”¨ `webapp-testing` æŠ€èƒ½ï¼Œè¯¥æŠ€èƒ½æä¾›ï¼š
- Playwright è‡ªåŠ¨åŒ–è„šæœ¬
- æœåŠ¡å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
- æµè§ˆå™¨äº¤äº’å’ŒDOMæ£€æŸ¥
- æˆªå›¾å’Œæ—¥å¿—æ•è·
- æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ
