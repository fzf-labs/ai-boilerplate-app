# 微信公众号素材库管理

这是一个完整的微信公众号素材库管理系统，支持图片、音频、视频等多种类型素材的管理。

## 功能特性

### 🎯 核心功能

- **多类型素材支持**: 支持图片、音频、视频等素材类型
- **素材上传**: 支持拖拽上传和点击上传，自动验证文件格式和大小
- **素材预览**: 支持不同类型素材的在线预览
- **批量操作**: 支持批量删除、批量选择等操作
- **搜索筛选**: 支持按名称搜索、按类型筛选、按时间范围筛选
- **统计信息**: 显示各类型素材数量和总大小统计

### 📊 数据管理

- **分页展示**: 支持分页加载，提高大量素材的浏览体验
- **实时同步**: 支持与微信服务器同步素材数据
- **状态管理**: 实时显示上传进度和操作状态

### 🎨 用户界面

- **响应式设计**: 适配不同屏幕尺寸
- **卡片式布局**: 直观展示素材缩略图和信息
- **操作便捷**: 悬停显示操作按钮，支持快捷操作

## 文件结构

```
material/
├── index.vue                    # 主页面
├── components/
│   ├── material-upload.vue      # 素材上传组件
│   ├── material-preview.vue     # 素材预览组件
│   └── material-toolbar.vue     # 工具栏组件
└── README.md                    # 说明文档
```

## 组件说明

### 主页面 (index.vue)

- 素材列表展示
- 分页控制
- 账号选择
- 统计信息展示

### 上传组件 (material-upload.vue)

- 支持拖拽上传
- 文件格式验证
- 上传进度显示
- 批量上传支持

### 预览组件 (material-preview.vue)

- 图片预览
- 音频播放
- 视频播放
- 素材信息展示

### 工具栏组件 (material-toolbar.vue)

- 搜索功能
- 筛选功能
- 批量操作
- 刷新和同步

## API 接口

### 素材管理接口

- `getMaterialPage`: 分页查询素材列表
- `uploadPermanentMaterial`: 上传永久素材
- `deletePermanentMaterial`: 删除单个素材
- `batchDeletePermanentMaterial`: 批量删除素材
- `getMaterialStats`: 获取素材统计信息
- `syncWechatMaterial`: 同步微信素材

### 数据类型

```typescript
interface Material {
  id: string;
  accountId: number;
  type: MaterialType;
  mediaId: string;
  url: string;
  name: string;
  size: number;
  remark?: string;
  createTime?: Date;
  updateTime?: Date;
}

enum MaterialType {
  IMAGE = 1, // 图片
  VOICE = 2, // 音频
  VIDEO = 3, // 视频
}
```

## 使用说明

### 1. 选择公众号

首先需要在页面顶部选择要管理的公众号账号。

### 2. 浏览素材

- 使用标签页切换不同类型的素材
- 查看统计信息了解素材概况
- 使用搜索框查找特定素材

### 3. 上传素材

- 点击"上传素材"按钮
- 选择素材类型
- 拖拽或点击选择文件
- 填写素材名称和备注
- 确认上传

### 4. 管理素材

- 点击素材卡片预览详细信息
- 使用复选框选择多个素材
- 执行批量删除操作
- 同步微信服务器数据

## 技术特点

### 前端技术栈

- Vue 3 + TypeScript
- Ant Design Vue
- Vben Admin Framework

### 响应式设计

- 网格布局自适应
- 移动端友好
- 触摸操作支持

### 性能优化

- 虚拟滚动（大量数据）
- 图片懒加载
- 分页加载
- 缓存机制

## 扩展功能

### 计划中的功能

- [ ] 素材标签管理
- [ ] 素材分组功能
- [ ] 素材使用统计
- [ ] 素材导出功能
- [ ] 素材模板管理
- [ ] 批量编辑功能

### 自定义扩展

可以通过以下方式扩展功能：

1. 添加新的素材类型支持
2. 集成第三方存储服务
3. 添加图片编辑功能
4. 实现素材CDN加速

## 注意事项

1. **文件大小限制**: 不同类型素材有不同的大小限制
2. **格式要求**: 严格按照微信公众平台要求的格式上传
3. **网络环境**: 上传大文件时需要稳定的网络环境
4. **权限管理**: 确保有相应的公众号管理权限

## 故障排除

### 常见问题

1. **上传失败**: 检查文件格式和大小是否符合要求
2. **预览异常**: 确认素材URL是否可访问
3. **同步失败**: 检查公众号配置和网络连接
4. **加载缓慢**: 考虑网络环境和服务器性能

### 调试方法

1. 查看浏览器控制台错误信息
2. 检查网络请求状态
3. 验证API接口返回数据
4. 确认权限配置正确
